# -*- coding: utf-8 -*-
"""
2018-05-09, v2 RW
    - want to change ramp speed to debug shutteling ramps, they don't always reach nominal voltages, 
        therefore changed function "def ramp_speeds(tau, V_ramp_list):" to fixed value but with no effect 
        for the ramps, the correct function may be in trap_surface_module_v2.py called "def calculate_ramp_speeds(self, tau, V_ramp_list):"
    
2018-03-02, v2 RW
    - loads Penning_trap_cxn_dictionaries_v2 which includes all trap electrodes and no egaun stuff
    - LTCE1 and STEC2 voltage readbacks have to be calibrated
    
THERE IS NO v1    
    
Created on Wed Mar 08 09:26:21 2017

@author: Harrison Ball
"""
import numpy as np

#=================================================================================================

#     ------------------------              TRAP SURFACE             ------------------------
#     ------------------------  VOLTAGE CONFIGURATIONS DICTIONARIES  ------------------------

#   sets default voltages for all active trap sufraces (i.e. all trap sufraces controlled by 
#   active power supplies, not just fixed at GND). This includes initial voltages for loading, 
#   voltage lists for time-dependent shuttling procedure, and final voltages for trapping in 
#   science trap. 

#=================================================================================================

#=================================================================================================

#       --------------------------  SET GLOBAL RAMPING PARAMETERS  ------------------------

#=================================================================================================

global_ramping_parameters = {}
global_ramping_parameters['tau'] = 0.8
''' 
number of ramp segments - 1
to be changed for different number of ramp segments
'''
#global_ramping_parameters['num_time_segs'] = 89
#global_ramping_parameters['num_time_segs'] = 44  # for shuttling scheme 1
#global_ramping_parameters['num_time_segs'] = 41 # for shuttling scheme 2
global_ramping_parameters['num_time_segs'] = 44 # for shuttling scheme 3

global_ramping_parameters['num_shuttling_cycles'] = 1
global_ramping_parameters['repetition_time_delay'] = 4

#=================================================================================================

#      --------------------------  DEFINE DATA MANAGEMENT FUNCTIONS   ------------------------

#=================================================================================================

# the function ramp_speeds seems to be unused /RW 09.05.2018
def ramp_speeds(tau, V_ramp_list):
    return [float(abs((abs(V_ramp_list[k+1])-abs(V_ramp_list[k]))/tau)) for k in range(len(V_ramp_list)-1)]
            
def round_list(list_in, decimal_points):
    myFormattedList = [round(elem,decimal_points) for elem in list_in ]
    return myFormattedList            
                           
#=================================================================================================

#            DEFINE VOLTAGE LISTS SAMPLED FROM R. WOLF SIMULATED SHUTTLING POTENTIALS    

#=================================================================================================
'''
Vlist_LTEC1 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0]
Vlist_LTring = [-91.25200000000001, -81.58800000000001, -76.232, -73.204, -71.509, -70.611, -70.077, -69.044, -62.056000000000004, -5.006, -0.0, -0.001, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0]
#Vlist_LTEC2 = [-0.0, -45.071000000000005, -60.327, -65.40899999999999, -67.002, -67.444, -67.557, -67.62, -67.757, -68.15, -67.773, -67.626, -67.575, -67.558, -67.551, -67.547, -67.53699999999999, -67.465, -66.87100000000001, -61.973, -21.919, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0]
Vlist_LTEC2 = [-0.0, -32, -52, -62, -67.002, -67.444, -67.557, -67.62, -67.757, -68.15, -67.773, -67.626, -67.575, -67.558, -67.551, -67.547, -67.53699999999999, -67.465, -66.87100000000001, -61.973, -21.919, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0]
Vlist_STRW = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.001, -0.0, -0.0, -0.0, -0.0, -0.045, -0.024, -133.4, -167.03099999999998, -172.225, -174.82299999999998, -178.84099999999998, -185.625, -196.046, -211.299, -233.143, -264.438, -309.254, -373.48900000000003, -447.153, -358.509, -301.225, -263.695, -238.795, -222.513, -212.291, -206.75799999999998, -100, -50, -25, -5.73]
Vlist_STEC1 = [-0.0, -0.0, -0.0, -0.0, -0.0, 0.0, -0.0, 0.0, -0.0, -5.0, -58.738, -66.47399999999999, -67.411, -67.528, -67.543, -67.546, -67.548, -67.553, -67.567, -67.60600000000001, -67.718, -67.64399999999999, -67.581, -67.55199999999999, -67.51, -67.383, -67.042, -66.268, -64.691, -61.665, -56.035, -45.828, -27.773000000000003, -0.0, -0.0, -0.013999999999999999, 0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0]
Vlist_STring = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.004, -0.0, -0.0, -0.0, -0.0, 0.0, -0.0, -0.0, 0.0, -0.0, -0.0, -0.0, -3.0, -30.765, -45.934, -54.295, -58.95399999999999, -61.54600000000001, -62.963, -63.656000000000006, -63.656000000000006, -63.656000000000006, -63.656000000000006, -63.656000000000006]
Vlist_STEC2 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0]
'''
#---------------------------------------
# alternative simple shuttling sequence, all potentials max -50V
'''
Vlist_LTEC1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_LTring = [-50,-44.70477359,-41.7700434,-40.11090168,-39.18215491,-38.6901109,-38.39751458,-37.83149958,-34.00254241,-2.742953579,0,-0.000547933,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_LTEC2 = [0,-23.47762289,-38.1511372,-45.48789435,-49.15774028,-49.48202494,-49.5649303,-49.61115187,-49.71166544,-50,-49.72340426,-49.61555393,-49.57813646,-49.56566398,-49.56052825,-49.55759354,-49.55025679,-49.49743213,-49.06162876,-45.46808511,-16.081438,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_STRW = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000111819,0,0,0,0,-0.005031835,-0.002683645,-14.91659454,-18.67716419,-19.25794974,-19.54845433,-19.99774127,-20.75631831,-21.92157941,-23.62714775,-26.06971216,-29.56907367,-34.5803338,-41.76299835,-50,-40.08795647,-33.68254266,-29.48599249,-26.7017106,-24.88108097,-23.73807176,-23.11937972,-11.18185498,-5.59092749,-2.795463745,-0.64072029]
Vlist_STEC1 = [0,0,0,0,0,0,0,0,0,-3.70003108,-43.46648512,-49.19117321,-49.88455903,-49.97113976,-49.98223985,-49.98445987,-49.98593988,-49.98963991,-50,-50.02886024,-50.11174094,-50.05698048,-50.01036009,-49.98889991,-49.95781965,-49.86383886,-49.61149674,-49.03873193,-47.87174212,-45.63248331,-41.46624832,-33.91300487,-20.55219264,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_STring = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-2.356415735,-24.16504336,-36.07986678,-42.64719744,-46.30671107,-48.34265427,-49.45566797,-50,-50,-50,-50,-50]
Vlist_STEC2 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
'''

#---------------------------------------
# shuttling scheme #01
# alternative simple shuttling sequence, STRWdc same as STring (one bigger ring electrode), STRWdc will be reduced to 0.09*STring in the very end
# this shuttling scheme works
'''
Vlist_LTEC1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_LTring = [-91.252,-81.588,-76.232,-73.204,-71.509,-70.611,-70.077,-69.044,-62.056,-5.006,0,-0.001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_LTEC2 = [0,-32,-52,-62,-67.002,-67.444,-67.557,-67.62,-67.757,-68.15,-67.773,-67.626,-67.575,-67.558,-67.551,-67.547,-67.537,-67.465,-66.871,-61.973,-21.919,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_STRW = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-3,-30.765,-45.934,-54.295,-58.954,-61.546,-62.963,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-60,-40,-20,-6]
Vlist_STEC1 = [0,0,0,0,0,0,0,0,0,-5,-58.738,-66.474,-67.411,-67.528,-67.543,-67.546,-67.548,-67.553,-67.567,-67.606,-67.718,-67.644,-67.581,-67.552,-67.51,-67.383,-67.042,-66.268,-64.691,-61.665,-56.035,-45.828,-27.773,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_STring = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-3,-30.765,-45.934,-54.295,-58.954,-61.546,-62.963,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656]
Vlist_STEC2 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
'''

#---------------------------------------
# LT-ST-LT shuttling (same voltage ramps as above)
'''
Vlist_LTEC1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_LTring = [-91.252,-81.588,-76.232,-73.204,-71.509,-70.611,-70.077,-69.044,-62.056,-5.006,0,-0.001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.001,0,-5.006,-62.056,-69.044,-70.077,-70.611,-71.509,-73.204,-76.232,-81.588,-91.252]
Vlist_LTEC2 = [0,-32,-52,-62,-67.002,-67.444,-67.557,-67.62,-67.757,-68.15,-67.773,-67.626,-67.575,-67.558,-67.551,-67.547,-67.537,-67.465,-66.871,-61.973,-21.919,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-21.919,-61.973,-66.871,-67.465,-67.537,-67.547,-67.551,-67.558,-67.575,-67.626,-67.773,-68.15,-67.757,-67.62,-67.557,-67.444,-67.002,-62,-52,-32,0]
Vlist_STRW = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-3,-30.765,-45.934,-54.295,-58.954,-61.546,-62.963,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-60,-40,-20,-6,-6,-20,-40,-60,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-62.963,-61.546,-58.954,-54.295,-45.934,-30.765,-3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_STEC1 = [0,0,0,0,0,0,0,0,0,-5,-58.738,-66.474,-67.411,-67.528,-67.543,-67.546,-67.548,-67.553,-67.567,-67.606,-67.718,-67.644,-67.581,-67.552,-67.51,-67.383,-67.042,-66.268,-64.691,-61.665,-56.035,-45.828,-27.773,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-27.773,-45.828,-56.035,-61.665,-64.691,-66.268,-67.042,-67.383,-67.51,-67.552,-67.581,-67.644,-67.718,-67.606,-67.567,-67.553,-67.548,-67.546,-67.543,-67.528,-67.411,-66.474,-58.738,-5,0,0,0,0,0,0,0,0,0]
Vlist_STring = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-3,-30.765,-45.934,-54.295,-58.954,-61.546,-62.963,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-62.963,-61.546,-58.954,-54.295,-45.934,-30.765,-3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_STEC2 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
'''

#---------------------------------------
# ST-LT-ST shuttling (same voltage ramps as above)
'''
Vlist_LTEC1 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_LTring = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.001,0,-5.006,-62.056,-69.044,-70.077,-70.611,-71.509,-73.204,-76.232,-81.588,-91.252,-91.252,-81.588,-76.232,-73.204,-71.509,-70.611,-70.077,-69.044,-62.056,-5.006,0,-0.001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_LTEC2 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-21.919,-61.973,-66.871,-67.465,-67.537,-67.547,-67.551,-67.558,-67.575,-67.626,-67.773,-68.15,-67.757,-67.62,-67.557,-67.444,-67.002,-62,-52,-32,0,0,-32,-52,-62,-67.002,-67.444,-67.557,-67.62,-67.757,-68.15,-67.773,-67.626,-67.575,-67.558,-67.551,-67.547,-67.537,-67.465,-66.871,-61.973,-21.919,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_STRW = [-6,-20,-40,-60,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-62.963,-61.546,-58.954,-54.295,-45.934,-30.765,-3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-3,-30.765,-45.934,-54.295,-58.954,-61.546,-62.963,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-60,-40,-20,-6]
Vlist_STEC1 = [0,0,0,0,0,0,0,0,0,0,0,0,-27.773,-45.828,-56.035,-61.665,-64.691,-66.268,-67.042,-67.383,-67.51,-67.552,-67.581,-67.644,-67.718,-67.606,-67.567,-67.553,-67.548,-67.546,-67.543,-67.528,-67.411,-66.474,-58.738,-5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-5,-58.738,-66.474,-67.411,-67.528,-67.543,-67.546,-67.548,-67.553,-67.567,-67.606,-67.718,-67.644,-67.581,-67.552,-67.51,-67.383,-67.042,-66.268,-64.691,-61.665,-56.035,-45.828,-27.773,0,0,0,0,0,0,0,0,0,0,0,0]
Vlist_STring = [-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-62.963,-61.546,-58.954,-54.295,-45.934,-30.765,-3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-3,-30.765,-45.934,-54.295,-58.954,-61.546,-62.963,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656,-63.656]
Vlist_STEC2 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
'''

#---------------------------------------
# shuttling scheme #02
# 2018/05/28 RW
# LT-ST new simulated shuttling, STRW is the same as STring
# aim is to check if this shuttling scheme work better than shuttling scheme #01
'''
Vlist_LTEC1 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
Vlist_LTring = [-91.25200000000001, -81.58800000000001, -76.232, -73.204, -71.509, -70.611, -70.077, -69.044, -62.056000000000004, -5.006, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
Vlist_LTEC2 = [0.0, -45.071000000000005, -60.327, -65.40899999999999, -67.002, -67.444, -67.557, -67.62, -67.757, -68.15, -67.773, -67.626, -67.575, -67.558, -67.551, -67.547, -67.53699999999999, -67.465, -66.87100000000001, -61.971000000000004, -21.912, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
Vlist_STRW = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -56.119, -66.372, -67.836, -68.075, -68.139, -68.183, -68.234, -68.301, -68.392, -68.513, -68.673, -68.88600000000001, -69.167, -69.53699999999999, -70.024, -70.665, -71.509, -72.623, -74.1, -76.067, -7.0]
Vlist_STEC1 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -58.738, -66.47399999999999, -67.411, -67.528, -67.543, -67.546, -67.548, -67.553, -67.567, -67.60600000000001, -67.718, -67.631, -67.578, -67.558, -67.55, -67.546, -67.54, -67.53, -67.51, -67.47399999999999, -67.408, -67.288, -67.07600000000001, -66.70100000000001, -66.046, -64.903, -62.924, -59.5, -53.595, -43.42100000000001, -25.901, 0.0]
Vlist_STring = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -56.119, -66.372, -67.836, -68.075, -68.139, -68.183, -68.234, -68.301, -68.392, -68.513, -68.673, -68.88600000000001, -69.167, -69.53699999999999, -70.024, -70.665, -71.509, -72.623, -74.1, -76.067, -64.7]
Vlist_STEC2 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
'''
#---------------------------------------
# shuttling scheme #03
# 2018/05/29 RW
# LT-ST new simulated shuttling, STRW is the same as STring
# the long time period between LTEC2 and STEC1 has been reduced, there is almost no applied axial and radial electrostatic field and ions are dominated by patch fields 
# aim is to check if this shuttling scheme work better than shuttling scheme #01
Vlist_LTEC1 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0]
Vlist_LTring = [-91.25200000000001, -82.941, -77.834, -74.64399999999999, -72.635, -71.403, -70.67, -70.215, -69.702, -67.904, -58.373999999999995, -5.006, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0]
Vlist_LTEC2 = [0.0, -40.052, -56.56399999999999, -63.336999999999996, -66.048, -67.07, -67.42399999999999, -67.538, -67.589, -67.655, -67.801, -68.15, -67.82, -67.663, -67.596, -67.569, -67.557, -67.501, -67.288, -66.1, -59.368, -21.912, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0]
Vlist_STRW = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -49.681000000000004, -64.581, -67.37100000000001, -67.943, -68.084, -68.171, -68.256, -68.373, -68.465, -68.58, -68.725, -68.90899999999999, -69.138, -69.426, -69.786, -70.237, -70.801, -71.509, -72.396, -73.514, -74.92399999999999, -76.711, -6]
Vlist_STEC1 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -54.615, -65.244, -67.131, -67.468, -67.531, -67.551, -67.559, -67.57600000000001, -67.619, -67.718, -67.654, -67.593, -67.567, -67.556, -67.55, -67.542, -67.524, -67.482, -67.436, -67.362, -67.242, -67.05, -66.745, -66.262, -65.501, -64.305, -62.431999999999995, -59.5, -54.92100000000001, -47.772, -36.621, -19.224, 0]
Vlist_STring = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -49.681000000000004, -64.581, -67.37100000000001, -67.943, -68.084, -68.171, -68.256, -68.373, -68.465, -68.58, -68.725, -68.90899999999999, -69.138, -69.426, -69.786, -70.237, -70.801, -71.509, -72.396, -73.514, -74.92399999999999, -76.711, -63.7]
Vlist_STEC2 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0]

zero_offset = -1
num_dec_pl = 1

                   
Vlist_LTEC1 = round_list(Vlist_LTEC1,num_dec_pl)
Vlist_LTring = round_list(Vlist_LTring,num_dec_pl)
Vlist_LTEC2 = round_list(Vlist_LTEC2,num_dec_pl)
Vlist_STRW = round_list(Vlist_STRW,num_dec_pl)
Vlist_STEC1 = round_list(Vlist_STEC1,num_dec_pl)
Vlist_STring = round_list(Vlist_STring,num_dec_pl)
Vlist_STEC2 = round_list(Vlist_STEC2,num_dec_pl)

#=================================================================================================

#      --------   DEFINE VOLTAGE CONFIGURATION DICTIONARIES FOR TRAP ELECTRODES    --------

#=================================================================================================

# ________________________________________________________________________________________________

# -------------------#                    LOADING TRAP (FT#2)                 # ------------------
# ________________________________________________________________________________________________

#____________________ 'Loading Trap: end-cap #1' _____________________

Loading_EndCap1 = {}
Loading_EndCap1['V_ramp_list'] = np.array(Vlist_LTEC1)+zero_offset
Loading_EndCap1['ramp_speeds'] = ramp_speeds(global_ramping_parameters['tau'],Loading_EndCap1['V_ramp_list'])
Loading_EndCap1['V_initial'] = Loading_EndCap1['V_ramp_list'][0]
Loading_EndCap1['V_final'] = Loading_EndCap1['V_ramp_list'][-1]

#____________________ 'Loading Trap: centre ring' _____________________

Loading_CentreRing = {}
Loading_CentreRing['V_ramp_list'] = np.array(Vlist_LTring)+zero_offset
#Loading_CentreRing['tau_list'] = [global_ramping_parameters['tau']]*global_ramping_parameters['num_time_segs']
Loading_CentreRing['ramp_speeds'] = ramp_speeds(global_ramping_parameters['tau'],Loading_CentreRing['V_ramp_list'])
Loading_CentreRing['V_initial'] = Loading_CentreRing['V_ramp_list'][0]
Loading_CentreRing['V_final'] = Loading_CentreRing['V_ramp_list'][-1]

#____________________ 'Loading Trap: end-cap #2' _____________________

Loading_EndCap2 = {}
Loading_EndCap2['V_ramp_list'] = np.array(Vlist_LTEC2)+zero_offset
#Loading_EndCap2['tau_list'] = [2]*13
Loading_EndCap2['ramp_speeds'] = ramp_speeds(global_ramping_parameters['tau'],Loading_EndCap2['V_ramp_list'])
Loading_EndCap2['V_initial'] = Loading_EndCap2['V_ramp_list'][0]
Loading_EndCap2['V_final'] = Loading_EndCap2['V_ramp_list'][-1]
#
#
#
# ________________________________________________________________________________________________

# -------------------#                    ROTATING WALL (FT#3)                 # ------------------
# ________________________________________________________________________________________________
#
#
#____________________ 'Rotating Wall: Quadruplet #1' _____________________

RW1 = {}

RW1['V_ramp_list'] = np.array(Vlist_STRW)+zero_offset
#RW1['tau_list'] = [2]*13
RW1['ramp_speeds'] = ramp_speeds(global_ramping_parameters['tau'],RW1['V_ramp_list'])
RW1['V_initial'] = RW1['V_ramp_list'][0]
RW1['V_final'] = RW1['V_ramp_list'][-1]
#[5]*10
#
#
#
# ________________________________________________________________________________________________

# -------------------#                    SCIENCE TRAP (FT#4)                 # ------------------
# ________________________________________________________________________________________________
#
#
#____________________ 'Science Trap: end-cap #1' _____________________

Science_EndCap1 = {}

Science_EndCap1['V_ramp_list'] = np.array(Vlist_STEC1)+zero_offset
#Science_EndCap1['tau_list'] = [2]*13
Science_EndCap1['ramp_speeds'] = ramp_speeds(global_ramping_parameters['tau'],Science_EndCap1['V_ramp_list'])
Science_EndCap1['V_initial'] = Science_EndCap1['V_ramp_list'][0]
Science_EndCap1['V_final'] = Science_EndCap1['V_ramp_list'][-1]
#[5]*5

#____________________ 'Science Trap: centre ring' _____________________

Science_CentreRing = {}

Science_CentreRing['V_ramp_list'] = np.array(Vlist_STring)+zero_offset
#Science_CentreRing['tau_list'] = [2]*13
Science_CentreRing['ramp_speeds'] = ramp_speeds(global_ramping_parameters['tau'],Science_CentreRing['V_ramp_list'])
Science_CentreRing['V_initial'] = Science_CentreRing['V_ramp_list'][0]
Science_CentreRing['V_final'] = Science_CentreRing['V_ramp_list'][-1]
#[5]*10

#____________________ 'Science Trap: end-cap #2' _____________________

Science_EndCap2 = {}

Science_EndCap2['V_ramp_list'] = np.array(Vlist_STEC2)+zero_offset
#Science_EndCap2['tau_list'] = [2]*13
Science_EndCap2['ramp_speeds'] = ramp_speeds(global_ramping_parameters['tau'],Science_EndCap2['V_ramp_list'])
Science_EndCap2['V_initial'] = Science_EndCap2['V_ramp_list'][0]
Science_EndCap2['V_final'] = Science_EndCap2['V_ramp_list'][-1]
#[2,6,10,6,5]

#=================================================================================================

#     --------------------                  ELECTRON GUNS               ----------------------
#     --------------------      VOLTAGE CONFIGURATIONS DICTIONARIES     ----------------------

#                        sets default voltages for all electron gun components 

#=================================================================================================

# ________________________________________________________________________________________________

# ----------------------#               ELECTRON GUN #1              # ------------------------
# ________________________________________________________________________________________________

# ----------------------# ----------------------# ----------------------# ------------------------
# ----------------------#                     FT #1                     # ------------------------
# ----------------------# ----------------------# ----------------------# ------------------------
#
#____________________ 'Electron Gun #1: emission-bias' _____________________

egun1_emission_bias = {}
egun1_emission_bias['V_OP'] = 'N/A'
egun1_emission_bias['I_OP'] = 'N/A'
egun1_emission_bias['V_set'] = -0.1
egun1_emission_bias['I_set'] = 'N/A'

#____________________ 'Electron Gun #1: emission-source' _____________________

egun1_emission_source = {}
egun1_emission_source['V_OP'] = 16
egun1_emission_source['I_OP'] = 2.9
egun1_emission_source['V_set'] = 0.0
egun1_emission_source['I_set'] = 0.0


#____________________ 'Electron Gun #1: cathode plate' _____________________

egun1_cathode = {}
egun1_cathode['V_OP'] = 70
egun1_cathode['I_OP'] = 0.1
egun1_cathode['V_set'] = 69
egun1_cathode['I_set'] = 'N/A'

#____________________ 'Electron Gun #1: annode plate' _____________________

egun1_anode = {}
egun1_anode['V_OP'] = 35
egun1_anode['I_OP'] = 0.1
egun1_anode['V_set'] = 25
egun1_anode['I_set'] = 'N/A'

# ----------------------# ----------------------# ----------------------# ------------------------
# ----------------------#               FT #2   (ExB plates)            # ------------------------
# ----------------------# ----------------------# ----------------------# ------------------------

#____________________ 'Electron Gun #1: ExB plate (LHS)' _____________________

egun1ExB_LHS = {}
egun1ExB_LHS['V_OP'] = 'N/A'
egun1ExB_LHS['I_OP'] = 'N/A'
egun1ExB_LHS['V_set'] = -150
egun1ExB_LHS['I_set'] = 'N/A'

#____________________ 'Electron Gun #1: ExB plate (RHS)' _____________________

egun1ExB_RHS = {}
egun1ExB_RHS['V_OP'] = 'N/A'
egun1ExB_RHS['I_OP'] = 'N/A'
egun1ExB_RHS['V_set'] = 150
egun1ExB_RHS['I_set'] = 'N/A'

# ________________________________________________________________________________________________

# ----------------------#                ELECTRON GUN #2               # ------------------------
# ________________________________________________________________________________________________

# ----------------------# ----------------------# ----------------------# ------------------------
# ----------------------#                     FT #1                     # ------------------------
# ----------------------# ----------------------# ----------------------# ------------------------

#____________________ 'Electron Gun #2: emission-bias' _____________________

egun2_emission_bias = {}
egun2_emission_bias['V_OP'] = 5
egun2_emission_bias['I_OP'] = 5
egun2_emission_bias['V_set'] = 3

#____________________ 'Electron Gun #2: cathode plate' _____________________

egun2_cathode = {}
egun2_cathode['V_OP'] = 5
egun2_cathode['I_OP'] = 5
egun2_cathode['V_set'] = 3

#____________________ 'Electron Gun #2: annode plate' _____________________

egun2_anode = {}
egun2_anode['V_OP'] = 5
egun2_anode['I_OP'] = 5
egun2_anode['V_set'] = 3

# ----------------------# ----------------------# ----------------------# ------------------------
# ----------------------#               FT #2   (ExB plates)            # ------------------------
# ----------------------# ----------------------# ----------------------# ------------------------

#____________________ 'Electron Gun #2: ExB plate (LHS)' _____________________

egun2ExB_LHS = {}
egun2ExB_LHS['V_OP'] = 'N/A'
egun2ExB_LHS['V_set'] = -100

#____________________ 'Electron Gun #2: ExB plate (RHS)' _____________________

egun2ExB_RHS = {}
egun2ExB_RHS['V_OP'] = 'N/A'
egun2ExB_RHS['V_set'] = 100


#=================================================================================================

#  ------------------     TOP-LEVEL DICTIONARY FOR CALLING SUB-DICTIONARIES   -------------------

#=================================================================================================


volt_config_dict = {}

# ________________________________________________________________________________________________

# ----------------------#                 TRAP SUFRACES                 # ------------------------
# ________________________________________________________________________________________________

volt_config_dict['global ramping parameters']= global_ramping_parameters

volt_config_dict['Loading Trap: end-cap #1']= Loading_EndCap1
volt_config_dict['Loading Trap: centre ring']= Loading_CentreRing
volt_config_dict['Loading Trap: end-cap #2']= Loading_EndCap2

volt_config_dict['Rotating Wall: Quadruplet #1']= RW1
#volt_config_dict['Rotating Wall: Quadruplet #2']= RW2
#volt_config_dict['Rotating Wall: Quadruplet #3']= RW3
#volt_config_dict['Rotating Wall: Quadruplet #4']= RW4

volt_config_dict['Science Trap: end-cap #1']= Science_EndCap1
volt_config_dict['Science Trap: centre ring']= Science_CentreRing
volt_config_dict['Science Trap: end-cap #2']= Science_EndCap2

#volt_config_dict['Wire Mesh']= WireMesh

# ________________________________________________________________________________________________

# ----------------------#                 ELECTRON GUNS                 # ------------------------
# ________________________________________________________________________________________________
       
volt_config_dict['Electron Gun #1: cathode plate']= egun1_cathode           
volt_config_dict['Electron Gun #1: anode plate']= egun1_anode           

volt_config_dict['Electron Gun #1: emission-source']= egun1_emission_source    
volt_config_dict['Electron Gun #1: emission-bias']= egun1_emission_bias

volt_config_dict['Electron Gun #1: ExB plate (LHS)']= egun1ExB_LHS            
volt_config_dict['Electron Gun #1: ExB plate (RHS)']= egun1ExB_RHS

volt_config_dict['Electron Gun #2: emission-bias']= egun2_emission_bias           
volt_config_dict['Electron Gun #2: cathode plate']= egun2_cathode           
volt_config_dict['Electron Gun #2: anode plate']= egun2_anode           
volt_config_dict['Electron Gun #2: ExB plate (LHS)']= egun2ExB_LHS            
volt_config_dict['Electron Gun #2: ExB plate (RHS)']= egun2ExB_RHS
              

                  

